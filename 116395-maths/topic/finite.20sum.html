---
layout: archive
title: Zulip Chat Archive
permalink: /stream/116395-maths/topic/finite.20sum.html
---

<h2>Stream: <a href="http://robertylewis.com/website_test/stream/116395-maths/index.html">maths</a></h2>
<h3>Topic: <a href="http://robertylewis.com/website_test/stream/116395-maths/topic/finite.20sum.html">finite sum</a></h3>

<hr>

<base href="https://leanprover.zulipchat.com/">

<head><link href="/style.css" rel="stylesheet"></head>

{% raw %}

<a name="195075403"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/finite%20sum/near/195075403" class="zl"><img src="http://robertylewis.com/website_test/assets/img/zulip2.png" alt="view this post on Zulip"></a> orlando <a href="http://robertylewis.com/website_test/stream/116395-maths/topic/finite.20sum.html#195075403">(Apr 23 2020 at 15:11)</a>:</h4>
<p>Hello, </p>
<p>is there exists  a little  function wanted <span aria-label="slight smile" class="emoji emoji-1f642" role="img" title="slight smile">:slight_smile:</span>   ?</p>
<div class="codehilite"><pre><span></span><span class="kn">variables</span> <span class="o">{</span><span class="n">R</span> <span class="o">:</span> <span class="kt">Type</span> <span class="o">}[</span><span class="n">ring</span> <span class="n">R</span><span class="o">]</span> <span class="o">(</span><span class="n">X</span> <span class="o">:</span> <span class="kt">Type</span><span class="o">)[</span><span class="n">fin_enum</span> <span class="n">X</span><span class="o">]</span> <span class="o">(</span><span class="n">f</span> <span class="o">:</span> <span class="n">X</span> <span class="bp">→</span> <span class="n">R</span><span class="o">)</span>
<span class="n">wanted</span> <span class="o">:</span> <span class="n">sum_</span><span class="o">{</span><span class="n">x</span> <span class="err">\</span><span class="k">in</span> <span class="n">X</span><span class="o">}</span>  <span class="n">f</span> <span class="n">x</span>
</pre></div>



<a name="195076500"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/finite%20sum/near/195076500" class="zl"><img src="http://robertylewis.com/website_test/assets/img/zulip2.png" alt="view this post on Zulip"></a> Kevin Buzzard <a href="http://robertylewis.com/website_test/stream/116395-maths/topic/finite.20sum.html#195076500">(Apr 23 2020 at 15:17)</a>:</h4>
<p>I usually use <code>finset.sum</code> for this.</p>



<a name="195076667"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/finite%20sum/near/195076667" class="zl"><img src="http://robertylewis.com/website_test/assets/img/zulip2.png" alt="view this post on Zulip"></a> Kenny Lau <a href="http://robertylewis.com/website_test/stream/116395-maths/topic/finite.20sum.html#195076667">(Apr 23 2020 at 15:18)</a>:</h4>
<div class="codehilite"><pre><span></span><span class="kn">import</span> <span class="n">data</span><span class="bp">.</span><span class="n">fin_enum</span> <span class="n">algebra</span><span class="bp">.</span><span class="n">big_operators</span>

<span class="n">universes</span> <span class="n">u</span> <span class="n">v</span>

<span class="n">def</span> <span class="n">fin_enum</span><span class="bp">.</span><span class="n">sum_univ</span> <span class="o">{</span><span class="n">R</span> <span class="o">:</span> <span class="kt">Type</span> <span class="n">u</span><span class="o">}</span> <span class="o">[</span><span class="n">add_comm_monoid</span> <span class="n">R</span><span class="o">]</span> <span class="o">(</span><span class="n">X</span> <span class="o">:</span> <span class="kt">Type</span> <span class="n">v</span><span class="o">)</span> <span class="o">[</span><span class="n">fin_enum</span> <span class="n">X</span><span class="o">]</span> <span class="o">(</span><span class="n">f</span> <span class="o">:</span> <span class="n">X</span> <span class="bp">→</span> <span class="n">R</span><span class="o">)</span> <span class="o">:</span> <span class="n">R</span> <span class="o">:=</span>
<span class="n">finset</span><span class="bp">.</span><span class="n">univ</span><span class="bp">.</span><span class="n">sum</span> <span class="n">f</span>
</pre></div>



<a name="195076676"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/finite%20sum/near/195076676" class="zl"><img src="http://robertylewis.com/website_test/assets/img/zulip2.png" alt="view this post on Zulip"></a> Kevin Buzzard <a href="http://robertylewis.com/website_test/stream/116395-maths/topic/finite.20sum.html#195076676">(Apr 23 2020 at 15:18)</a>:</h4>
<p>You have explicitly chosen an ordering of your set, so as long as addition is associative on R (which it is) then you can add things up. But it's also commutative, so it will do to have [fintype X]</p>



<a name="195076990"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/finite%20sum/near/195076990" class="zl"><img src="http://robertylewis.com/website_test/assets/img/zulip2.png" alt="view this post on Zulip"></a> orlando <a href="http://robertylewis.com/website_test/stream/116395-maths/topic/finite.20sum.html#195076990">(Apr 23 2020 at 15:20)</a>:</h4>
<p>Thx Kenny !!!</p>



<a name="195077471"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/finite%20sum/near/195077471" class="zl"><img src="http://robertylewis.com/website_test/assets/img/zulip2.png" alt="view this post on Zulip"></a> orlando <a href="http://robertylewis.com/website_test/stream/116395-maths/topic/finite.20sum.html#195077471">(Apr 23 2020 at 15:24)</a>:</h4>
<p><span class="user-mention" data-user-id="110038">@Kevin Buzzard</span>   :  I'm ok !</p>



<a name="195077562"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/finite%20sum/near/195077562" class="zl"><img src="http://robertylewis.com/website_test/assets/img/zulip2.png" alt="view this post on Zulip"></a> orlando <a href="http://robertylewis.com/website_test/stream/116395-maths/topic/finite.20sum.html#195077562">(Apr 23 2020 at 15:25)</a>:</h4>
<p>and it' better with <code>fintype</code></p>



<a name="195081461"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/finite%20sum/near/195081461" class="zl"><img src="http://robertylewis.com/website_test/assets/img/zulip2.png" alt="view this post on Zulip"></a> orlando <a href="http://robertylewis.com/website_test/stream/116395-maths/topic/finite.20sum.html#195081461">(Apr 23 2020 at 15:53)</a>:</h4>
<p>Just to understand the function, i'm not clear ! </p>
<p><code> finset </code> is a namespace, in the file <code>fintype/basic</code> </p>
<p><code>finset.univ</code> is a <code> finset</code>,  it's represents <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>X</mi></mrow><annotation encoding="application/x-tex">X</annotation></semantics></math></span><span aria-hidden="true" class="katex-html"><span class="base"><span class="strut" style="height:0.68333em;vertical-align:0em;"></span><span class="mord mathdefault" style="margin-right:0.07847em;">X</span></span></span></span> as finset of <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>X</mi></mrow><annotation encoding="application/x-tex">X</annotation></semantics></math></span><span aria-hidden="true" class="katex-html"><span class="base"><span class="strut" style="height:0.68333em;vertical-align:0em;"></span><span class="mord mathdefault" style="margin-right:0.07847em;">X</span></span></span></span>. </p>
<p>and next in <code>big operator </code> we have for <code> s : finset \alpha </code>  the function <code>sum</code> (or prod)  : </p>
<p>so Kenny fonction is   the same as <code>  finset.sum (finset.univ) g </code> </p>
<p>If a <code>open finset</code> i can note this as <code> finset.sum (univ) g</code>  but i can't denote by <code> sum (univ) g </code> because there is an other function called <code>sum </code> </p>
<p>But i don't understand the notation <code>finset.univ.(sum)</code> the dot notation  ! Why the function <code>sum</code> is behind ?   </p>
<p>I don't understand anything <span aria-label="sweat smile" class="emoji emoji-1f605" role="img" title="sweat smile">:sweat_smile:</span></p>



<a name="195081625"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/finite%20sum/near/195081625" class="zl"><img src="http://robertylewis.com/website_test/assets/img/zulip2.png" alt="view this post on Zulip"></a> Mario Carneiro <a href="http://robertylewis.com/website_test/stream/116395-maths/topic/finite.20sum.html#195081625">(Apr 23 2020 at 15:55)</a>:</h4>
<p>that's <code>(finset.univ).sum</code></p>



<a name="195081652"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/finite%20sum/near/195081652" class="zl"><img src="http://robertylewis.com/website_test/assets/img/zulip2.png" alt="view this post on Zulip"></a> Mario Carneiro <a href="http://robertylewis.com/website_test/stream/116395-maths/topic/finite.20sum.html#195081652">(Apr 23 2020 at 15:55)</a>:</h4>
<p>I don't think <code>finset.univ.(sum)</code> works</p>



<a name="195081870"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/finite%20sum/near/195081870" class="zl"><img src="http://robertylewis.com/website_test/assets/img/zulip2.png" alt="view this post on Zulip"></a> Mario Carneiro <a href="http://robertylewis.com/website_test/stream/116395-maths/topic/finite.20sum.html#195081870">(Apr 23 2020 at 15:56)</a>:</h4>
<p><code>(finset.univ).sum</code> is using projection notation, meaning that the <code>.sum</code> is referring to <code>T.sum</code> where <code>T</code> is the type of the thing on the left. In this case <code>finset.univ</code> has type <code>finset A</code>, so lean interprets it as the function <code>finset.sum</code> applied to <code>finset.univ</code>, that is, <code>finset.sum finset.univ</code></p>



<a name="195082190"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/finite%20sum/near/195082190" class="zl"><img src="http://robertylewis.com/website_test/assets/img/zulip2.png" alt="view this post on Zulip"></a> orlando <a href="http://robertylewis.com/website_test/stream/116395-maths/topic/finite.20sum.html#195082190">(Apr 23 2020 at 15:58)</a>:</h4>
<p>thx Mario !</p>



{% endraw %}

<hr><p>Last updated: Apr 23 2020 at 17:01 UTC</p>